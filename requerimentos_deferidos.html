
    <!DOCTYPE html>
    <html lang="pt-BR">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Requerimentos Deferidos por UF</title>
        <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
        <style>
            body {
                font-family: Arial, sans-serif;
                margin: 20px;
                background-color: #f5f5f5;
            }
            .container {
                max-width: 1200px;
                margin: 0 auto;
                background: white;
                padding: 20px;
                border-radius: 8px;
                box-shadow: 0 0 10px rgba(0,0,0,0.1);
            }
            .chart-container {
                height: 500px;
                margin-top: 20px;
            }
            .controls {
                margin-bottom: 20px;
                display: flex;
                gap: 15px;
                align-items: center;
            }
            select {
                min-width: 150px;
                height: 120px;
            }
            .legend {
                display: flex;
                flex-wrap: wrap;
                gap: 10px;
                margin-top: 15px;
            }
            .legend-item {
                display: flex;
                align-items: center;
                padding: 5px 10px;
                background: #f0f0f0;
                border-radius: 4px;
                cursor: pointer;
            }
            .legend-color {
                width: 15px;
                height: 15px;
                margin-right: 5px;
                border: 1px solid #ddd;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <h1>Histórico de autorizações para aquisição de armas de fogo por Estado</h1>
            
            <div class="controls">
                <div>
                    <label for="ufFilter">Filtrar UFs:</label><br>
                    <select id="ufFilter" multiple></select>
                </div>
                <button id="applyFilter">Aplicar Filtro</button>
            </div>
            
            <div class="legend" id="chartLegend"></div>
            
            <div class="chart-container">
                <canvas id="dataChart"></canvas>
            </div>
        </div>

        <script>
            // Dados incorporados diretamente no HTML
            const graphData = {
    "labels": [
        "04/2019",
        "05/2019",
        "06/2019",
        "07/2019",
        "08/2019",
        "09/2019",
        "10/2019",
        "11/2019",
        "12/2019",
        "01/2020",
        "02/2020",
        "03/2020",
        "04/2020",
        "05/2020",
        "06/2020",
        "07/2020",
        "08/2020",
        "09/2020",
        "10/2020",
        "11/2020",
        "12/2020",
        "01/2021",
        "02/2021",
        "03/2021",
        "04/2021",
        "05/2021",
        "06/2021",
        "07/2021",
        "08/2021",
        "09/2021",
        "10/2021",
        "11/2021",
        "12/2021",
        "01/2022",
        "02/2022",
        "03/2022",
        "04/2022",
        "05/2022",
        "06/2022",
        "07/2022",
        "08/2022",
        "09/2022",
        "10/2022",
        "11/2022",
        "12/2022",
        "01/2023",
        "02/2023",
        "03/2023",
        "04/2023",
        "05/2023",
        "06/2023",
        "07/2023",
        "08/2023",
        "09/2023",
        "10/2023",
        "11/2023",
        "12/2023",
        "01/2024",
        "02/2024",
        "03/2024",
        "04/2024",
        "05/2024",
        "06/2024",
        "07/2024",
        "08/2024",
        "09/2024",
        "10/2024",
        "11/2024",
        "12/2024",
        "01/2025",
        "02/2025",
        "03/2025",
        "04/2025",
        "05/2025",
        "06/2025",
        "07/2025"
    ],
    "datasets": [
        {
            "uf": "AC",
            "label": "AC",
            "data": [
                242,
                285,
                278,
                50,
                60,
                74,
                193,
                360,
                259,
                48,
                46,
                81,
                147,
                432,
                358,
                79,
                54,
                76,
                47,
                75,
                484,
                385,
                71,
                71,
                81,
                234,
                150,
                451,
                440,
                94,
                50,
                68,
                189,
                266,
                499,
                511,
                76,
                49,
                76,
                177,
                384,
                424,
                469,
                68,
                67,
                16,
                167,
                399,
                450,
                380,
                68,
                41,
                189,
                360,
                334,
                117,
                44,
                67,
                202,
                233,
                279,
                95,
                65,
                59,
                190,
                230,
                244,
                85,
                53,
                60,
                167,
                218,
                252,
                98,
                46,
                20
            ],
            "borderColor": "rgba(0,255,0,1)",
            "backgroundColor": "rgba(0,255,0,0.2)",
            "pointBackgroundColor": "rgba(0,255,0,1)",
            "pointBorderColor": "#fff",
            "pointHoverBackgroundColor": "#fff",
            "pointHoverBorderColor": "rgba(0,255,0,1)"
        },
        {
            "uf": "AL",
            "label": "AL",
            "data": [
                265,
                193,
                217,
                115,
                92,
                46,
                238,
                160,
                227,
                75,
                64,
                115,
                188,
                364,
                305,
                145,
                44,
                73,
                89,
                164,
                326,
                283,
                113,
                49,
                85,
                177,
                234,
                286,
                361,
                103,
                40,
                78,
                111,
                351,
                300,
                353,
                85,
                57,
                42,
                135,
                422,
                345,
                330,
                44,
                82,
                3,
                151,
                408,
                330,
                329,
                28,
                57,
                189,
                384,
                316,
                185,
                42,
                66,
                207,
                367,
                234,
                123,
                68,
                61,
                157,
                339,
                243,
                210,
                76,
                40,
                143,
                228,
                188,
                170,
                77,
                27
            ],
            "borderColor": "rgba(0,100,0,1)",
            "backgroundColor": "rgba(0,100,0,0.2)",
            "pointBackgroundColor": "rgba(0,100,0,1)",
            "pointBorderColor": "#fff",
            "pointHoverBackgroundColor": "#fff",
            "pointHoverBorderColor": "rgba(0,100,0,1)"
        },
        {
            "uf": "AM",
            "label": "AM",
            "data": [
                151,
                70,
                170,
                89,
                174,
                97,
                146,
                153,
                168,
                54,
                152,
                94,
                122,
                224,
                239,
                95,
                190,
                107,
                85,
                111,
                203,
                228,
                79,
                216,
                80,
                169,
                134,
                281,
                152,
                108,
                171,
                103,
                125,
                170,
                319,
                202,
                106,
                170,
                57,
                111,
                231,
                353,
                177,
                72,
                244,
                17,
                114,
                162,
                281,
                175,
                90,
                227,
                78,
                147,
                291,
                72,
                98,
                179,
                132,
                122,
                263,
                54,
                136,
                93,
                126,
                102,
                192,
                106,
                141,
                70,
                124,
                84,
                203,
                85,
                117,
                14
            ],
            "borderColor": "rgba(218,165,32,1)",
            "backgroundColor": "rgba(218,165,32,0.2)",
            "pointBackgroundColor": "rgba(218,165,32,1)",
            "pointBorderColor": "#fff",
            "pointHoverBackgroundColor": "#fff",
            "pointHoverBorderColor": "rgba(218,165,32,1)"
        },
        {
            "uf": "AP",
            "label": "AP",
            "data": [
                46,
                75,
                65,
                20,
                13,
                40,
                43,
                80,
                51,
                23,
                6,
                53,
                42,
                88,
                104,
                29,
                16,
                69,
                43,
                47,
                69,
                93,
                17,
                32,
                110,
                77,
                39,
                91,
                105,
                39,
                21,
                70,
                52,
                55,
                100,
                93,
                30,
                24,
                28,
                54,
                79,
                77,
                76,
                36,
                22,
                13,
                62,
                96,
                81,
                81,
                15,
                25,
                58,
                62,
                77,
                55,
                17,
                33,
                69,
                84,
                81,
                51,
                19,
                23,
                51,
                47,
                66,
                47,
                18,
                17,
                60,
                76,
                61,
                43,
                24,
                14
            ],
            "borderColor": "rgba(139,69,19,1)",
            "backgroundColor": "rgba(139,69,19,0.2)",
            "pointBackgroundColor": "rgba(139,69,19,1)",
            "pointBorderColor": "#fff",
            "pointHoverBackgroundColor": "#fff",
            "pointHoverBorderColor": "rgba(139,69,19,1)"
        },
        {
            "uf": "BA",
            "label": "BA",
            "data": [
                492,
                746,
                725,
                152,
                106,
                229,
                481,
                755,
                860,
                137,
                182,
                258,
                534,
                1033,
                961,
                169,
                212,
                251,
                210,
                484,
                998,
                801,
                203,
                166,
                210,
                574,
                592,
                916,
                1020,
                231,
                128,
                241,
                420,
                945,
                1059,
                941,
                174,
                132,
                158,
                571,
                1254,
                1117,
                1028,
                114,
                163,
                17,
                511,
                1102,
                1152,
                942,
                70,
                126,
                491,
                983,
                1058,
                594,
                68,
                201,
                492,
                876,
                937,
                349,
                83,
                206,
                418,
                904,
                865,
                322,
                83,
                201,
                423,
                931,
                677,
                285,
                77,
                93
            ],
            "borderColor": "rgba(188,143,143,1)",
            "backgroundColor": "rgba(188,143,143,0.2)",
            "pointBackgroundColor": "rgba(188,143,143,1)",
            "pointBorderColor": "#fff",
            "pointHoverBackgroundColor": "#fff",
            "pointHoverBorderColor": "rgba(188,143,143,1)"
        },
        {
            "uf": "CE",
            "label": "CE",
            "data": [
                263,
                322,
                189,
                107,
                58,
                137,
                182,
                284,
                189,
                80,
                65,
                155,
                178,
                244,
                216,
                113,
                95,
                114,
                129,
                123,
                188,
                216,
                109,
                88,
                146,
                287,
                180,
                194,
                315,
                127,
                92,
                99,
                255,
                270,
                246,
                306,
                147,
                87,
                76,
                205,
                323,
                262,
                370,
                68,
                133,
                1,
                207,
                221,
                210,
                304,
                31,
                99,
                193,
                353,
                305,
                152,
                40,
                150,
                212,
                262,
                234,
                161,
                56,
                181,
                244,
                266,
                260,
                176,
                51,
                123,
                193,
                243,
                150,
                158,
                65,
                59
            ],
            "borderColor": "rgba(210,105,30,1)",
            "backgroundColor": "rgba(210,105,30,0.2)",
            "pointBackgroundColor": "rgba(210,105,30,1)",
            "pointBorderColor": "#fff",
            "pointHoverBackgroundColor": "#fff",
            "pointHoverBorderColor": "rgba(210,105,30,1)"
        },
        {
            "uf": "DF",
            "label": "DF",
            "data": [
                294,
                414,
                429,
                311,
                74,
                122,
                235,
                419,
                641,
                239,
                75,
                135,
                290,
                572,
                833,
                290,
                82,
                120,
                174,
                214,
                591,
                768,
                200,
                129,
                167,
                281,
                348,
                607,
                939,
                260,
                97,
                192,
                144,
                517,
                676,
                859,
                233,
                99,
                139,
                134,
                509,
                746,
                978,
                94,
                101,
                41,
                162,
                399,
                712,
                954,
                59,
                158,
                140,
                400,
                586,
                663,
                56,
                161,
                155,
                387,
                479,
                482,
                64,
                145,
                215,
                705,
                438,
                816,
                58,
                122,
                262,
                515,
                523,
                1022,
                96,
                50
            ],
            "borderColor": "rgba(135,206,235,1)",
            "backgroundColor": "rgba(135,206,235,0.2)",
            "pointBackgroundColor": "rgba(135,206,235,1)",
            "pointBorderColor": "#fff",
            "pointHoverBackgroundColor": "#fff",
            "pointHoverBorderColor": "rgba(135,206,235,1)"
        },
        {
            "uf": "ES",
            "label": "ES",
            "data": [
                664,
                1447,
                1506,
                669,
                470,
                237,
                587,
                1355,
                1559,
                667,
                489,
                246,
                589,
                1864,
                1623,
                994,
                603,
                249,
                192,
                700,
                1671,
                1564,
                825,
                467,
                291,
                628,
                1212,
                2177,
                1878,
                949,
                484,
                273,
                540,
                1481,
                1998,
                1883,
                784,
                372,
                182,
                507,
                1854,
                2129,
                1977,
                584,
                405,
                26,
                390,
                1702,
                1546,
                2044,
                678,
                412,
                448,
                1831,
                1703,
                1343,
                628,
                346,
                555,
                1475,
                1619,
                1271,
                661,
                292,
                533,
                1805,
                1509,
                1347,
                597,
                237,
                413,
                1246,
                1209,
                1241,
                378,
                102
            ],
            "borderColor": "rgba(75,0,130,1)",
            "backgroundColor": "rgba(75,0,130,0.2)",
            "pointBackgroundColor": "rgba(75,0,130,1)",
            "pointBorderColor": "#fff",
            "pointHoverBackgroundColor": "#fff",
            "pointHoverBorderColor": "rgba(75,0,130,1)"
        },
        {
            "uf": "GO",
            "label": "GO",
            "data": [
                1349,
                1354,
                863,
                343,
                485,
                530,
                1369,
                1462,
                993,
                287,
                560,
                481,
                1179,
                1404,
                1049,
                712,
                489,
                418,
                443,
                1105,
                1573,
                1023,
                474,
                484,
                435,
                1154,
                1770,
                1688,
                1153,
                628,
                434,
                306,
                970,
                1886,
                1806,
                1186,
                735,
                470,
                210,
                712,
                2015,
                1805,
                1234,
                315,
                469,
                40,
                774,
                1888,
                2035,
                1218,
                373,
                483,
                593,
                1654,
                1529,
                678,
                283,
                525,
                1018,
                1584,
                1203,
                440,
                317,
                428,
                895,
                1445,
                1113,
                638,
                448,
                235,
                960,
                1480,
                922,
                654,
                394,
                129
            ],
            "borderColor": "rgba(139,0,139,1)",
            "backgroundColor": "rgba(139,0,139,0.2)",
            "pointBackgroundColor": "rgba(139,0,139,1)",
            "pointBorderColor": "#fff",
            "pointHoverBackgroundColor": "#fff",
            "pointHoverBorderColor": "rgba(139,0,139,1)"
        },
        {
            "uf": "MA",
            "label": "MA",
            "data": [
                309,
                653,
                551,
                112,
                57,
                79,
                285,
                607,
                562,
                88,
                38,
                73,
                415,
                788,
                629,
                102,
                71,
                102,
                159,
                384,
                773,
                658,
                85,
                59,
                110,
                352,
                457,
                953,
                640,
                108,
                79,
                93,
                282,
                622,
                974,
                595,
                103,
                70,
                116,
                351,
                926,
                959,
                587,
                53,
                75,
                22,
                333,
                800,
                856,
                561,
                33,
                63,
                257,
                906,
                760,
                373,
                38,
                97,
                301,
                716,
                588,
                210,
                45,
                103,
                262,
                702,
                582,
                171,
                31,
                94,
                260,
                597,
                494,
                134,
                43,
                67
            ],
            "borderColor": "rgba(255,20,147,1)",
            "backgroundColor": "rgba(255,20,147,0.2)",
            "pointBackgroundColor": "rgba(255,20,147,1)",
            "pointBorderColor": "#fff",
            "pointHoverBackgroundColor": "#fff",
            "pointHoverBorderColor": "rgba(255,20,147,1)"
        },
        {
            "uf": "MG",
            "label": "MG",
            "data": [
                2582,
                4358,
                2491,
                751,
                280,
                682,
                2338,
                4428,
                2518,
                456,
                323,
                522,
                2343,
                4955,
                3147,
                714,
                485,
                612,
                1044,
                2229,
                4772,
                2576,
                681,
                463,
                563,
                2494,
                3377,
                5196,
                3257,
                739,
                516,
                527,
                2037,
                4443,
                4289,
                3379,
                512,
                594,
                437,
                1940,
                5353,
                4798,
                3767,
                290,
                716,
                86,
                1935,
                4623,
                4736,
                2734,
                257,
                786,
                1908,
                4977,
                4009,
                1762,
                259,
                968,
                2390,
                4468,
                3091,
                1132,
                310,
                1027,
                2185,
                4478,
                3076,
                1083,
                337,
                808,
                2155,
                4100,
                2777,
                1018,
                253,
                366
            ],
            "borderColor": "rgba(255,192,203,1)",
            "backgroundColor": "rgba(255,192,203,0.2)",
            "pointBackgroundColor": "rgba(255,192,203,1)",
            "pointBorderColor": "#fff",
            "pointHoverBackgroundColor": "#fff",
            "pointHoverBorderColor": "rgba(255,192,203,1)"
        },
        {
            "uf": "MS",
            "label": "MS",
            "data": [
                280,
                657,
                506,
                258,
                109,
                148,
                313,
                595,
                444,
                160,
                181,
                179,
                410,
                662,
                500,
                251,
                161,
                152,
                184,
                376,
                742,
                559,
                227,
                157,
                154,
                435,
                710,
                745,
                454,
                254,
                129,
                173,
                356,
                788,
                829,
                432,
                227,
                117,
                125,
                426,
                829,
                943,
                588,
                211,
                150,
                31,
                342,
                539,
                903,
                633,
                99,
                156,
                423,
                544,
                711,
                410,
                133,
                144,
                312,
                475,
                748,
                235,
                131,
                241,
                342,
                578,
                545,
                298,
                111,
                159,
                248,
                690,
                361,
                282,
                76,
                55
            ],
            "borderColor": "rgba(220,20,60,1)",
            "backgroundColor": "rgba(220,20,60,0.2)",
            "pointBackgroundColor": "rgba(220,20,60,1)",
            "pointBorderColor": "#fff",
            "pointHoverBackgroundColor": "#fff",
            "pointHoverBorderColor": "rgba(220,20,60,1)"
        },
        {
            "uf": "MT",
            "label": "MT",
            "data": [
                1090,
                1590,
                1911,
                179,
                107,
                180,
                970,
                1757,
                1808,
                184,
                121,
                197,
                881,
                2251,
                2448,
                258,
                163,
                238,
                321,
                954,
                2043,
                2200,
                182,
                167,
                199,
                631,
                1459,
                2422,
                2519,
                223,
                90,
                158,
                628,
                1663,
                2718,
                2214,
                186,
                114,
                159,
                635,
                2072,
                3046,
                2565,
                102,
                143,
                21,
                625,
                1958,
                2805,
                2266,
                110,
                173,
                485,
                2092,
                2943,
                1012,
                82,
                133,
                1196,
                2003,
                2195,
                385,
                122,
                171,
                1030,
                1927,
                2634,
                309,
                108,
                149,
                978,
                1565,
                1925,
                309,
                81,
                101
            ],
            "borderColor": "rgba(255,215,0,1)",
            "backgroundColor": "rgba(255,215,0,0.2)",
            "pointBackgroundColor": "rgba(255,215,0,1)",
            "pointBorderColor": "#fff",
            "pointHoverBackgroundColor": "#fff",
            "pointHoverBorderColor": "rgba(255,215,0,1)"
        },
        {
            "uf": "PA",
            "label": "PA",
            "data": [
                912,
                1116,
                772,
                172,
                77,
                108,
                846,
                1018,
                1023,
                113,
                85,
                126,
                948,
                1354,
                1276,
                156,
                71,
                150,
                328,
                728,
                1354,
                1003,
                157,
                70,
                130,
                682,
                728,
                1448,
                1141,
                187,
                75,
                168,
                655,
                1150,
                1408,
                1119,
                175,
                86,
                87,
                561,
                1251,
                1532,
                1067,
                94,
                121,
                24,
                547,
                1228,
                1430,
                957,
                100,
                153,
                572,
                1296,
                1395,
                483,
                89,
                102,
                702,
                1150,
                1132,
                312,
                103,
                159,
                683,
                1057,
                950,
                291,
                99,
                115,
                620,
                983,
                746,
                194,
                78,
                68
            ],
            "borderColor": "rgba(255,255,0,1)",
            "backgroundColor": "rgba(255,255,0,0.2)",
            "pointBackgroundColor": "rgba(255,255,0,1)",
            "pointBorderColor": "#fff",
            "pointHoverBackgroundColor": "#fff",
            "pointHoverBorderColor": "rgba(255,255,0,1)"
        },
        {
            "uf": "PB",
            "label": "PB",
            "data": [
                357,
                362,
                261,
                37,
                19,
                87,
                256,
                276,
                273,
                22,
                42,
                55,
                345,
                395,
                335,
                56,
                59,
                46,
                127,
                266,
                334,
                369,
                52,
                49,
                65,
                400,
                408,
                431,
                322,
                66,
                52,
                56,
                232,
                413,
                428,
                328,
                40,
                41,
                51,
                178,
                499,
                507,
                406,
                23,
                48,
                12,
                287,
                537,
                435,
                159,
                18,
                29,
                234,
                422,
                356,
                100,
                17,
                47,
                348,
                329,
                290,
                58,
                24,
                37,
                306,
                327,
                273,
                58,
                26,
                44,
                323,
                356,
                222,
                65,
                19,
                56
            ],
            "borderColor": "rgba(176,224,230,1)",
            "backgroundColor": "rgba(176,224,230,0.2)",
            "pointBackgroundColor": "rgba(176,224,230,1)",
            "pointBorderColor": "#fff",
            "pointHoverBackgroundColor": "#fff",
            "pointHoverBorderColor": "rgba(176,224,230,1)"
        },
        {
            "uf": "PE",
            "label": "PE",
            "data": [
                651,
                908,
                592,
                166,
                49,
                133,
                624,
                919,
                662,
                101,
                75,
                148,
                437,
                1059,
                763,
                171,
                82,
                154,
                210,
                401,
                925,
                525,
                112,
                88,
                181,
                637,
                602,
                942,
                731,
                130,
                60,
                130,
                459,
                798,
                1094,
                760,
                89,
                88,
                89,
                504,
                992,
                1005,
                886,
                63,
                87,
                12,
                630,
                1003,
                873,
                750,
                74,
                90,
                519,
                1082,
                830,
                414,
                64,
                111,
                653,
                929,
                619,
                423,
                91,
                140,
                571,
                1001,
                697,
                380,
                68,
                94,
                585,
                1060,
                535,
                322,
                53,
                44
            ],
            "borderColor": "rgba(255,165,0,1)",
            "backgroundColor": "rgba(255,165,0,0.2)",
            "pointBackgroundColor": "rgba(255,165,0,1)",
            "pointBorderColor": "#fff",
            "pointHoverBackgroundColor": "#fff",
            "pointHoverBorderColor": "rgba(255,165,0,1)"
        },
        {
            "uf": "PI",
            "label": "PI",
            "data": [
                321,
                260,
                222,
                138,
                90,
                158,
                211,
                384,
                235,
                94,
                122,
                141,
                168,
                353,
                326,
                174,
                106,
                130,
                42,
                75,
                404,
                260,
                132,
                107,
                146,
                175,
                193,
                486,
                334,
                178,
                127,
                102,
                86,
                404,
                368,
                317,
                163,
                104,
                76,
                193,
                455,
                381,
                361,
                92,
                100,
                6,
                195,
                309,
                342,
                279,
                89,
                99,
                137,
                321,
                359,
                149,
                113,
                131,
                239,
                214,
                326,
                82,
                96,
                141,
                242,
                252,
                331,
                143,
                96,
                127,
                242,
                236,
                219,
                239,
                88,
                46
            ],
            "borderColor": "rgba(255,105,180,1)",
            "backgroundColor": "rgba(255,105,180,0.2)",
            "pointBackgroundColor": "rgba(255,105,180,1)",
            "pointBorderColor": "#fff",
            "pointHoverBackgroundColor": "#fff",
            "pointHoverBorderColor": "rgba(255,105,180,1)"
        },
        {
            "uf": "PR",
            "label": "PR",
            "data": [
                1270,
                1677,
                1272,
                342,
                195,
                299,
                1330,
                1590,
                1440,
                347,
                198,
                301,
                1346,
                1767,
                1791,
                371,
                233,
                267,
                512,
                1189,
                1645,
                1716,
                401,
                218,
                355,
                1473,
                1840,
                1859,
                1890,
                538,
                214,
                242,
                1146,
                2387,
                1965,
                1793,
                414,
                259,
                177,
                1118,
                2465,
                2212,
                1990,
                284,
                290,
                39,
                987,
                2244,
                2388,
                1432,
                233,
                271,
                923,
                2151,
                2088,
                789,
                239,
                336,
                1327,
                2104,
                1915,
                499,
                243,
                302,
                1195,
                1861,
                1794,
                564,
                248,
                210,
                892,
                1599,
                1580,
                465,
                193,
                102
            ],
            "borderColor": "rgba(221,160,221,1)",
            "backgroundColor": "rgba(221,160,221,0.2)",
            "pointBackgroundColor": "rgba(221,160,221,1)",
            "pointBorderColor": "#fff",
            "pointHoverBackgroundColor": "#fff",
            "pointHoverBorderColor": "rgba(221,160,221,1)"
        },
        {
            "uf": "RJ",
            "label": "RJ",
            "data": [
                759,
                1492,
                1428,
                390,
                212,
                214,
                787,
                1335,
                1228,
                267,
                222,
                205,
                875,
                1793,
                1557,
                361,
                217,
                205,
                160,
                831,
                1787,
                1471,
                312,
                177,
                202,
                648,
                1331,
                2251,
                1661,
                409,
                148,
                229,
                611,
                2003,
                2165,
                1854,
                364,
                184,
                210,
                636,
                2362,
                2408,
                1834,
                207,
                204,
                23,
                532,
                2022,
                2145,
                1601,
                175,
                165,
                515,
                1900,
                1989,
                1065,
                152,
                232,
                666,
                1847,
                1787,
                736,
                170,
                310,
                541,
                1919,
                1673,
                843,
                174,
                194,
                603,
                1818,
                1391,
                796,
                183,
                96
            ],
            "borderColor": "rgba(222,184,135,1)",
            "backgroundColor": "rgba(222,184,135,0.2)",
            "pointBackgroundColor": "rgba(222,184,135,1)",
            "pointBorderColor": "#fff",
            "pointHoverBackgroundColor": "#fff",
            "pointHoverBorderColor": "rgba(222,184,135,1)"
        },
        {
            "uf": "RN",
            "label": "RN",
            "data": [
                375,
                456,
                296,
                78,
                30,
                79,
                290,
                422,
                283,
                59,
                38,
                72,
                381,
                524,
                333,
                85,
                57,
                85,
                118,
                225,
                495,
                381,
                72,
                61,
                100,
                224,
                387,
                473,
                451,
                57,
                46,
                80,
                204,
                459,
                448,
                424,
                61,
                45,
                65,
                255,
                580,
                504,
                383,
                32,
                69,
                8,
                218,
                468,
                402,
                338,
                23,
                52,
                191,
                510,
                428,
                162,
                13,
                59,
                224,
                431,
                349,
                71,
                29,
                54,
                226,
                498,
                283,
                134,
                45,
                38,
                275,
                347,
                297,
                98,
                26,
                1
            ],
            "borderColor": "rgba(189,83,107,1)",
            "backgroundColor": "rgba(189,83,107,0.2)",
            "pointBackgroundColor": "rgba(189,83,107,1)",
            "pointBorderColor": "#fff",
            "pointHoverBackgroundColor": "#fff",
            "pointHoverBorderColor": "rgba(189,83,107,1)"
        },
        {
            "uf": "RO",
            "label": "RO",
            "data": [
                571,
                861,
                686,
                126,
                83,
                142,
                644,
                972,
                806,
                110,
                99,
                147,
                711,
                1341,
                958,
                124,
                92,
                148,
                210,
                737,
                1177,
                848,
                100,
                113,
                171,
                482,
                818,
                1264,
                963,
                142,
                91,
                217,
                427,
                906,
                1400,
                885,
                149,
                122,
                220,
                392,
                1079,
                1587,
                1058,
                105,
                130,
                74,
                325,
                1184,
                1557,
                851,
                75,
                127,
                289,
                1202,
                1390,
                367,
                99,
                134,
                472,
                1129,
                1001,
                185,
                73,
                150,
                511,
                1029,
                869,
                227,
                99,
                97,
                558,
                1032,
                794,
                210,
                90,
                74
            ],
            "borderColor": "rgba(60,179,113,1)",
            "backgroundColor": "rgba(60,179,113,0.2)",
            "pointBackgroundColor": "rgba(60,179,113,1)",
            "pointBorderColor": "#fff",
            "pointHoverBackgroundColor": "#fff",
            "pointHoverBorderColor": "rgba(60,179,113,1)"
        },
        {
            "uf": "RR",
            "label": "RR",
            "data": [
                99,
                206,
                107,
                35,
                66,
                87,
                155,
                152,
                128,
                31,
                68,
                94,
                125,
                181,
                139,
                51,
                54,
                72,
                80,
                105,
                220,
                133,
                39,
                58,
                83,
                162,
                150,
                234,
                138,
                55,
                57,
                113,
                129,
                172,
                245,
                174,
                41,
                44,
                80,
                138,
                206,
                222,
                149,
                45,
                72,
                12,
                121,
                166,
                198,
                121,
                30,
                34,
                102,
                183,
                198,
                66,
                32,
                74,
                93,
                156,
                173,
                37,
                34,
                86,
                117,
                171,
                188,
                57,
                59,
                79,
                93,
                241,
                171,
                55,
                43,
                61
            ],
            "borderColor": "rgba(143,188,143,1)",
            "backgroundColor": "rgba(143,188,143,0.2)",
            "pointBackgroundColor": "rgba(143,188,143,1)",
            "pointBorderColor": "#fff",
            "pointHoverBackgroundColor": "#fff",
            "pointHoverBorderColor": "rgba(143,188,143,1)"
        },
        {
            "uf": "RS",
            "label": "RS",
            "data": [
                2558,
                3264,
                1927,
                1576,
                1042,
                978,
                2172,
                2785,
                2030,
                1277,
                981,
                1004,
                2185,
                2981,
                3136,
                1544,
                933,
                1072,
                667,
                2406,
                3596,
                2855,
                1429,
                1009,
                1008,
                2660,
                3530,
                4069,
                3312,
                2000,
                669,
                915,
                2106,
                4377,
                4271,
                3178,
                1876,
                1181,
                782,
                2113,
                4685,
                4733,
                3431,
                1104,
                1263,
                194,
                1873,
                4135,
                4097,
                3307,
                956,
                1136,
                1531,
                4221,
                3403,
                2228,
                933,
                1407,
                2396,
                3842,
                3559,
                1916,
                977,
                1450,
                2124,
                3652,
                2867,
                2655,
                1096,
                771,
                2195,
                3491,
                2547,
                2704,
                1001,
                410
            ],
            "borderColor": "rgba(95,158,160,1)",
            "backgroundColor": "rgba(95,158,160,0.2)",
            "pointBackgroundColor": "rgba(95,158,160,1)",
            "pointBorderColor": "#fff",
            "pointHoverBackgroundColor": "#fff",
            "pointHoverBorderColor": "rgba(95,158,160,1)"
        },
        {
            "uf": "SC",
            "label": "SC",
            "data": [
                1720,
                2241,
                1795,
                593,
                328,
                415,
                1724,
                2069,
                1834,
                496,
                413,
                443,
                1514,
                2614,
                2471,
                453,
                430,
                453,
                678,
                1300,
                2402,
                2276,
                465,
                423,
                471,
                1860,
                2488,
                2537,
                2563,
                588,
                355,
                508,
                1357,
                3167,
                2578,
                2372,
                499,
                390,
                420,
                1081,
                3230,
                2789,
                2493,
                329,
                354,
                112,
                1091,
                3005,
                2870,
                2228,
                236,
                429,
                1084,
                2687,
                2596,
                1119,
                190,
                451,
                1927,
                2609,
                2200,
                826,
                249,
                487,
                1661,
                2423,
                2223,
                916,
                326,
                394,
                1385,
                2183,
                1833,
                773,
                288,
                251
            ],
            "borderColor": "rgba(0,255,255,1)",
            "backgroundColor": "rgba(0,255,255,0.2)",
            "pointBackgroundColor": "rgba(0,255,255,1)",
            "pointBorderColor": "#fff",
            "pointHoverBackgroundColor": "#fff",
            "pointHoverBorderColor": "rgba(0,255,255,1)"
        },
        {
            "uf": "SE",
            "label": "SE",
            "data": [
                216,
                365,
                315,
                49,
                14,
                49,
                199,
                336,
                250,
                31,
                11,
                89,
                161,
                447,
                295,
                58,
                14,
                59,
                83,
                95,
                389,
                252,
                47,
                34,
                81,
                177,
                106,
                420,
                259,
                65,
                38,
                70,
                194,
                140,
                469,
                241,
                35,
                34,
                62,
                136,
                390,
                516,
                268,
                21,
                47,
                8,
                147,
                313,
                390,
                164,
                15,
                43,
                141,
                365,
                358,
                121,
                10,
                38,
                196,
                363,
                248,
                80,
                13,
                44,
                163,
                381,
                267,
                93,
                13,
                46,
                120,
                374,
                190,
                74,
                10,
                32
            ],
            "borderColor": "rgba(70,130,180,1)",
            "backgroundColor": "rgba(70,130,180,0.2)",
            "pointBackgroundColor": "rgba(70,130,180,1)",
            "pointBorderColor": "#fff",
            "pointHoverBackgroundColor": "#fff",
            "pointHoverBorderColor": "rgba(70,130,180,1)"
        },
        {
            "uf": "SP",
            "label": "SP",
            "data": [
                1903,
                2530,
                1827,
                1077,
                427,
                658,
                1612,
                2243,
                1925,
                975,
                702,
                656,
                1528,
                2318,
                2843,
                1294,
                675,
                674,
                666,
                903,
                1998,
                2515,
                1103,
                646,
                715,
                1561,
                1369,
                2577,
                3377,
                1169,
                562,
                647,
                1380,
                2125,
                2610,
                3899,
                1070,
                635,
                571,
                1193,
                2656,
                2716,
                3511,
                609,
                637,
                95,
                1332,
                2501,
                2642,
                3136,
                379,
                690,
                1347,
                2737,
                2281,
                2296,
                349,
                673,
                1758,
                2846,
                2055,
                2397,
                371,
                671,
                1711,
                2760,
                2090,
                2473,
                370,
                705,
                1626,
                2507,
                1734,
                2052,
                371,
                382
            ],
            "borderColor": "rgba(30,144,255,1)",
            "backgroundColor": "rgba(30,144,255,0.2)",
            "pointBackgroundColor": "rgba(30,144,255,1)",
            "pointBorderColor": "#fff",
            "pointHoverBackgroundColor": "#fff",
            "pointHoverBorderColor": "rgba(30,144,255,1)"
        },
        {
            "uf": "TO",
            "label": "TO",
            "data": [
                211,
                279,
                289,
                76,
                20,
                61,
                226,
                218,
                263,
                105,
                29,
                43,
                174,
                236,
                275,
                124,
                32,
                32,
                76,
                97,
                298,
                295,
                63,
                25,
                25,
                194,
                135,
                357,
                315,
                69,
                31,
                38,
                199,
                158,
                385,
                404,
                51,
                24,
                28,
                157,
                239,
                386,
                374,
                18,
                27,
                4,
                150,
                215,
                416,
                371,
                29,
                34,
                103,
                227,
                359,
                159,
                24,
                28,
                169,
                299,
                281,
                72,
                17,
                29,
                213,
                320,
                282,
                118,
                24,
                23,
                206,
                220,
                261,
                105,
                21,
                8
            ],
            "borderColor": "rgba(131,111,255,1)",
            "backgroundColor": "rgba(131,111,255,0.2)",
            "pointBackgroundColor": "rgba(131,111,255,1)",
            "pointBorderColor": "#fff",
            "pointHoverBackgroundColor": "#fff",
            "pointHoverBorderColor": "rgba(131,111,255,1)"
        }
    ]
};
            
            // Variáveis globais
            let dataChart;
            
            // Inicialização
            document.addEventListener('DOMContentLoaded', function() {
                // Preencher o seletor de UFs
                const ufFilter = document.getElementById('ufFilter');
                const ufs = [...new Set(graphData.datasets.map(d => d.uf))].sort();
                
                ufs.forEach(uf => {
                    const option = document.createElement('option');
                    option.value = uf;
                    option.textContent = uf;
                    option.selected = true;
                    ufFilter.appendChild(option);
                });
                
                // Configurar botão de filtro
                document.getElementById('applyFilter').addEventListener('click', updateChart);
                
                // Criar gráfico inicial
                updateChart();
            });
            
            // Atualizar o gráfico com os filtros aplicados
            function updateChart() {
                const selectedUFs = Array.from(document.getElementById('ufFilter').selectedOptions)
                    .map(opt => opt.value);
                    
                const filteredData = {
                    labels: graphData.labels,
                    datasets: graphData.datasets.filter(d => selectedUFs.includes(d.uf))
                };
                
                // Destruir gráfico anterior se existir
                if (dataChart) {
                    dataChart.destroy();
                }
                
                // Criar novo gráfico
                const ctx = document.getElementById('dataChart').getContext('2d');
                dataChart = new Chart(ctx, {
                    type: 'line',
                    data: filteredData,
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                title: {
                                    display: true,
                                    text: 'Quantidade de requerimentos deferidos para aquisição de armas de fogo'
                                }
                            },
                            x: {
                                title: {
                                    display: true,
                                    text: 'Mês/Ano'
                                },
                                ticks: {
                                    maxRotation: 45,
                                    minRotation: 45
                                }
                            }
                        },
                        plugins: {
                            legend: { display: false },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return `${context.dataset.label}: ${context.parsed.y} requerimentos deferidos`;
                                    }
                                }
                            }
                        }
                    }
                });
                
                updateLegend(filteredData.datasets);
            }
            
            // Atualizar legenda
            function updateLegend(datasets) {
                const legend = document.getElementById('chartLegend');
                legend.innerHTML = '';
                
                datasets.forEach((dataset, index) => {
                    const item = document.createElement('div');
                    item.className = 'legend-item';
                    
                    const color = document.createElement('div');
                    color.className = 'legend-color';
                    color.style.backgroundColor = dataset.borderColor;
                    
                    const label = document.createElement('span');
                    label.textContent = dataset.label;
                    
                    item.appendChild(color);
                    item.appendChild(label);
                    
                    item.addEventListener('click', () => {
                        const meta = dataChart.getDatasetMeta(index);
                        meta.hidden = !meta.hidden;
                        dataChart.update();
                        item.style.opacity = meta.hidden ? '0.5' : '1';
                    });
                    
                    legend.appendChild(item);
                });
            }
        </script>
    </body>
    </html>
    